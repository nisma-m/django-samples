{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>ðŸ“Š Top 5 Most Downloaded PDFs</h1>

  {% if user.groups.first.name == "Librarian" %}
    <a href="{% url 'report_panel' %}" class="btn btn-outline-info">
      ðŸ“ˆ View Report Panel
    </a>
  {% endif %}
</div>

<div class="card p-4 shadow-sm">
  {% if top_pdfs %}
    {% for pdf in top_pdfs %}
      <div class="mb-3">
        <div class="d-flex justify-content-between">
          <strong>{{ pdf.pdf__title }}</strong>
          <span class="text-muted">{{ pdf.total }} downloads</span>
        </div>
        <div class="progress mt-1" style="height: 20px;">
          <div class="progress-bar bg-success" role="progressbar"
               style="width: {{ pdf.percent }}%;"
               aria-valuenow="{{ pdf.total }}"
               aria-valuemin="0"
               aria-valuemax="100">
          </div>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <p class="text-muted">ðŸ˜• No downloads yet.</p>
  {% endif %}
</div>
{% endblock %}
